# 进程
注:进程是操作系统分配资源的最小单位,进程与进程之间的资源是彼此独立的

> 创建:通过os模块的fork()方法可以创建一个子进程,并且将子进程的PID返回给父进程,将返回值`0`返回给子进程

> 资源:创建子进程的同时,会将所有的资源和当前的运行状态完全复制一份给子进程

> 注意:为了演示下过,我们需要将两个代码块都做sleep(0.1)的处理,每次执行后都可让程序过渡到下个时间片上,如果不对时间处理,在同一时间片上就可以完成循环五遍print()语句的操作

#### os.getpid()
获取当前进程的PID
#### os.getppid()
获取当前进程的父进程PID
#### os.wait()
阻塞, 等待子进程结束并回收资源.
两个返回值:
1. 子进程的PID
2. 子进程结束状态(无异常默认为:0)

```python
import os, time

# 创建一个进程(子进程)
ret = os.fork()

if ret == 0:
    # 子进程
    print('我是子进程PID:{},父进程PPID:{}'.format(os.getpid(), os.getppid()))
    for i in range(10):
        print('我是子进程')
        time.sleep(0.1)
    raise Exception('抛出异常状态')

else:
    # 父进程
    print('我是父进程PID:{},父进程PPID:{}'.format(os.getpid(), os.getppid()))
    for i in range(5):
        print('父进程')
        time.sleep(0.1)

    print('父进程"任务"结束')
    pid, result = os.wait()  # 阻塞, 等待子进程结束并回收资源.两个返回值,子进程的PID和子进程结束状态(无异常默认为:0)
    print('子进程结束,pid为{},结束状态{}'.format(pid,result))

# >>> 我是父进程PID:31516,父进程PPID:17239
# >>> 父进程
# >>> 我是子进程PID:31517,父进程PPID:31516
# >>> 我是子进程
# >>> 我是子进程
# >>> 父进程
# >>> 我是子进程
# >>> 父进程
# >>> 我是子进程
# >>> 父进程
# >>> 我是子进程
# >>> 父进程
# >>> 我是子进程
# >>> 父进程"任务"结束
# >>> 我是子进程
# >>> 我是子进程
# >>> 我是子进程
# >>> 我是子进程
# >>> Traceback (most recent call last):
# >>>   File "/Users/HenryDu/PycharmProjects/untitled/main.py", line 18, in <module>
# >>>     raise Exception('抛出异常状态')
# >>> Exception: 抛出异常状态
# >>> 子进程结束,pid为31517,结束状态256
```
### 孤儿进程
> 父进程结束,子进程还在执行任务
> 子进程交给操作系统进行处理回收

### 僵尸进程
> 子进程任务结束,父进程没有结束且没有对子进程进行资源回收
> 会对系统造成资源浪费,所以要尽量避免僵尸进程存在
